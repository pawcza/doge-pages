{"version":3,"sources":["components/Page.module.scss","containers/PagesContainer.module.scss","components/Corner.module.scss","components/Page.js","components/Corner.js","containers/PagesContainer.js","App.js","index.js"],"names":["module","exports","Page","this","props","children","imageUrl","active","beforePreviousPage","previousPage","nextPage","afterNextPage","left","animPrev","animNext","animPrevPrevPage","blockTransitions","transitionEnd","onTransitionEnd","className","css","Wrapper","BlockTransitions","AnimPrevPrevPage","AnimNext","AnimPrev","Active","Left","beforePrevPage","prevPage","style","backgroundImage","Component","Corner","top","right","bottom","click","onClick","PagesContainer","state","activeIndex","handleCornerClick","console","log","swapPage","dir","setState","images","length","handleTransitionEnd","e","prevState","fetchDummyImages","fetch","then","response","json","data","Header","clipPath","PagesShadowLeft","transform","PagesShadowRight","map","image","index","download_url","key","author","ButtonWrapper","Button","SpanBlocked","PageStatus","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.624dca4d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"Page_Wrapper__3S7Rk\",\"Left\":\"Page_Left__355x3\",\"beforePrevPage\":\"Page_beforePrevPage__26Him\",\"prevPage\":\"Page_prevPage__MY7Pv\",\"nextPage\":\"Page_nextPage__22rJe\",\"afterNextPage\":\"Page_afterNextPage__1VIBi\",\"AnimNext\":\"Page_AnimNext__2KZhi\",\"AnimPrev\":\"Page_AnimPrev__3V9gW\",\"AnimPrevPrevPage\":\"Page_AnimPrevPrevPage__1nifA\",\"Active\":\"Page_Active__3GT2p\",\"BlockTransitions\":\"Page_BlockTransitions__2M8JO\",\"Corner\":\"Page_Corner__1foI1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"PagesContainer_Wrapper__17XdN\",\"SpanBlocked\":\"PagesContainer_SpanBlocked__2_txT\",\"PagesShadowLeft\":\"PagesContainer_PagesShadowLeft__2mnNJ\",\"PagesShadowRight\":\"PagesContainer_PagesShadowRight__l35nf\",\"Header\":\"PagesContainer_Header__2l9aV\",\"ButtonWrapper\":\"PagesContainer_ButtonWrapper__2UQVD\",\"Button\":\"PagesContainer_Button__1ONuo\",\"PageStatus\":\"PagesContainer_PageStatus__1obZD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"Corner_Wrapper__2YO8s\"};","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\nimport css from './Page.module.scss'\n\nclass Page extends Component {\n  componentDidMount() {\n  }\n\n  render() {\n    const {\n      children,\n      imageUrl,\n      active,\n      beforePreviousPage,\n      previousPage,\n      nextPage,\n      afterNextPage,\n      left,\n      animPrev,\n      animNext,\n      animPrevPrevPage,\n      blockTransitions,\n      transitionEnd,\n    } = this.props;\n\n    return (\n      <div\n        onTransitionEnd={transitionEnd}\n        className={\n          css.Wrapper +\n          ` ${blockTransitions ? css.BlockTransitions : ''}` +\n          ` ${animPrevPrevPage ? css.AnimPrevPrevPage : ''}` +\n          ` ${animNext ? css.AnimNext : ''}` +\n          ` ${animPrev ? css.AnimPrev : ''}` +\n          ` ${active ? css.Active : ''}` +\n          ` ${left ? css.Left : ''}` +\n          ` ${beforePreviousPage ? css.beforePrevPage : ''}` +\n          ` ${previousPage ? css.prevPage : ''}` +\n          ` ${nextPage ? css.nextPage : ''}` +\n          ` ${afterNextPage ? css.afterNextPage : ''}`\n        }\n        style={{\n          backgroundImage: `url(${imageUrl})`\n        }}\n      >\n        { children }\n      </div>\n    );\n  }\n}\n\nPage.propTypes = {\n\n};\n\nexport default Page;\n","import React from 'react';\n\nimport css from './Corner.module.scss'\n\nconst Corner = ({left, top, right, bottom, click }) => {\n  return (\n    <div\n      style={{left, top, right, bottom}}\n      className={css.Wrapper}\n      onClick={() => click(left, top, right, bottom)}\n    >\n    </div>\n  );\n};\n\nexport default Corner;\n","import React, {Component} from 'react';\n\nimport Page from '../components/Page'\nimport Corner from '../components/Corner'\n\nimport css from './PagesContainer.module.scss'\n\nclass PagesContainer extends Component {\n  state = {\n    activeIndex: 0,\n    blockTransitions: true,\n    animNext: false,\n    animPrev: false\n  };\n\n  componentDidMount() {\n    this.fetchDummyImages();\n  }\n\n  handleCornerClick = (left, top, right, bottom) => {\n    console.log('clicked corner', left, top, right, bottom)\n  };\n\n  swapPage = dir => {\n    let activeIndex = this.state.activeIndex;\n    this.setState({blockTransitions: false});\n    if (dir === 'next' && activeIndex <= this.state.images.length) {\n      ++activeIndex;\n      this.setState({animNext: true})\n    } else if (dir === 'prev' && activeIndex > 0) {\n      --activeIndex;\n      this.setState({animPrev: true})\n    }\n\n  };\n\n  handleTransitionEnd = e => {\n    this.setState(prevState => {\n      if (prevState.animNext || prevState.animPrev) {\n        return {\n          blockTransitions: true,\n          activeIndex: prevState.animNext ? prevState.activeIndex + 2 : prevState.activeIndex - 2,\n          animNext: false,\n          animPrev: false\n        }\n      }\n    });\n  };\n\n  fetchDummyImages() {\n    fetch('https://picsum.photos/v2/list')\n      .then(response => response.json())\n      .then(data => {\n        this.setState({\n          images: data\n        })\n      })\n  }\n\n  render() {\n    return (\n      <>\n        <div className={css.Header}>Flip book demo</div>\n        <div\n          className={css.Wrapper + ` ${this.state.animPrev ? css.AnimPrev : ''}`}\n          style={{clipPath: this.state.clipPath}}\n        >\n          <div\n            className={css.PagesShadowLeft}\n            style={{transform: `scaleX(${this.state.images ? this.state.activeIndex / this.state.images.length : 0})`}}\n          />\n          <div\n            className={css.PagesShadowRight}\n            style={{transform: `scaleX(${this.state.images ? (this.state.images.length - this.state.activeIndex) / this.state.images.length : 0})`}}\n          />\n          <Corner\n            click={this.handleCornerClick}\n            left={0}\n            top={0}\n          />\n          <Corner\n            click={this.handleCornerClick}\n            left={0}\n            bottom={0}\n          />\n          <Corner\n            click={this.handleCornerClick}\n            right={0}\n            top={0}\n          />\n          <Corner\n            click={this.handleCornerClick}\n            right={0}\n            bottom={0}\n          />\n          {this.state.images && this.state.images.map((image, index) => (\n            <Page\n              blockTransitions={this.state.blockTransitions}\n              transitionEnd={e => this.handleTransitionEnd(e)}\n              imageUrl={image.download_url}\n              key={index}\n              animPrevPrevPage={this.state.animPrev && this.state.activeIndex - 1 === index}\n              animNext={this.state.animNext && this.state.activeIndex + 1 === index}\n              animPrev={this.state.animPrev && this.state.activeIndex === index}\n              left={this.state.activeIndex === index}\n              active={this.state.activeIndex === index || this.state.activeIndex + 1 === index}\n              beforePreviousPage={this.state.activeIndex - 2 === index}\n              previousPage={this.state.activeIndex - 1 === index}\n              nextPage={this.state.activeIndex + 2 === index}\n              afterNextPage={this.state.activeIndex + 3 === index}\n            >\n              <p>{image.author}</p>\n            </Page>\n          ))}\n        </div>\n        <div className={css.ButtonWrapper}>\n          <span\n            onClick={() => this.swapPage('prev')}\n            className={css.Button + ` ${!this.state.blockTransitions || this.state.activeIndex === 0 ? css.SpanBlocked : ''}`}\n          >\n          Prev\n          </span>\n          <span\n            onClick={() => this.swapPage('next')}\n            className={css.Button + ` ${!this.state.blockTransitions || this.state.activeIndex === 30 ? css.SpanBlocked : ''}`}\n          >\n          Next\n          </span>\n        </div>\n        <span className={css.PageStatus}>\n           {this.state.activeIndex} / {this.state.images && this.state.images.length}\n        </span>\n      </>\n    );\n  }\n}\n\nexport default PagesContainer;\n","import React from 'react';\nimport PagesContainer from \"./containers/PagesContainer\";\n\nfunction App() {\n  return (\n    <div>\n      <PagesContainer/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}